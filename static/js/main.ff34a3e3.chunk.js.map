{"version":3,"sources":["assets/images/userImageDefault.png","components/Login/Login.module.css","api/api.js","components/Footer/Footer.module.css","components/Navbar/Navbar.module.css","components/Users/Users.module.css","components/Navbar/Navbar.jsx","redux/usersReducer.js","components/Users/User/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/authReducer.js","components/Header/Header.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/dialogsReducer.js","redux/store.js","components/Footer/Footer.jsx","components/MainPage/MainPage.jsx","App.js","reportWebVitals.js","index.js","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.jsx","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","utils/validators/validators.js","components/common/FormsControls/FormsControls.jsx","components/Users/User/User.module.css","redux/profileReducer.js"],"names":["module","exports","axiosInstance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","page","count","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","error","profileAPI","authAPI","me","login","email","password","rememberMe","loginData","logout","getStatus","updateStatus","status","put","saveImage","image","formData","FormData","append","saveProfile","profileData","Navbar","props","className","style","width","height","to","exact","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","initialState","users","totalCount","pageSize","currentPage","isFetching","followingInProgress","toggleIsFetching","type","toggleFollowingProgress","inProgress","usersReducer","state","action","map","u","id","followed","filter","User","history","useHistory","redirect","push","s","user","name","userImage","src","photos","small","userImageDefault","disabled","some","onClick","isAuth","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","pageNumber","selectedPage","Users","Preloader","UsersAPIComponent","setCurrentPage","this","React","Component","mapDispatchToProps","dispatch","resultCode","followSuccess","unfollowSuccess","items","connect","usersPage","auth","SET_USER_DATA","setAuthUserData","getAuthUserData","a","authReducer","Header","loginBlock","header","rightBlock","HeaderC","LoginFormRedux","reduxForm","form","loginFormStyles","loginForm","onSubmit","handleSubmit","Field","component","Input","placeholder","validate","required","summaryError","errorMessage","messages","length","stopSubmit","_error","initialized","INITIALIZING_SUCCESS","appReducer","SEND_MESSAGE","UPDATE_NEW_MESSAGE","dialogs","newMessage","dialogsReducer","new_message","message","reducers","combineReducers","profilePage","profileReducer","dialogsPage","app","formReducer","store","createStore","applyMiddleware","thunkMiddlerware","window","Footer","footer","target","href","MainPage","Profile","lazy","App","initializeApp","path","render","Suspense","fallback","promise","Promise","all","AppContainer","WebApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","role","value","maxLength","max","Textarea","input","meta","isError","touched","formControl","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_IMAGE","TOGGLE_FETCHING","posts","profile","addPost","newPostText","setUserProfile","setStatus","toggleFetching","getUserProfile","reject","new_post","likes"],"mappings":"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","file":"static/js/main.ff34a3e3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/userImageDefault.43e64566.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"Login_loginForm__1tOEH\"};","import axios from \"axios\";\r\n\r\nconst apiKey = '920ab2ef-c493-4bda-b564-47c5726249c2';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": apiKey\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers: (page, count) => {\r\n        return axiosInstance.get(`users?page=${page}&count=${count}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow: (userId) => {\r\n        return axiosInstance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow: (userId) => {\r\n        return axiosInstance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getProfile: (userId) => {\r\n        console.error('Old version. Use profileAPI.getProfile() instead.');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me: () => {\r\n        return axiosInstance.get('auth/me')\r\n            .then(response => response.data);\r\n    },\r\n    login: (email, password, rememberMe = false) => {\r\n        const loginData = {email, password, rememberMe};\r\n        return axiosInstance.post('/auth/login', loginData)\r\n            .then(response => response.data);\r\n    },\r\n    logout: () => {\r\n        return axiosInstance.delete('/auth/login')\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile: (userId) => {\r\n        return axiosInstance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus: (userId) => {\r\n        return axiosInstance.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    updateStatus: (status) => {\r\n        return axiosInstance.put(`profile/status`, {status: status})\r\n            .then(response => response.data);\r\n    },\r\n    saveImage: (image) => {\r\n        let formData = new FormData();\r\n        formData.append('image', image);\r\n        return axiosInstance.put(`profile/photo`, formData,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n            .then(response => response.data);\r\n    },\r\n    saveProfile: (profileData) => {\r\n        return axiosInstance.put('profile', profileData);\r\n    }\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3HObL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridWrapper\":\"Navbar_gridWrapper__2JrVp\",\"activeLink\":\"Navbar_activeLink__2QcZU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Users_selectedPage__wkWUX\"};","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Navbar.module.css';\r\n\r\nconst Navbar = (props) => {\r\n    // return (\r\n    //     <div className={s.gridWrapper}>\r\n    //         <NavLink to={'/'}>Main Page</NavLink>\r\n    //         <NavLink to={'/profile'}>My Profile</NavLink>\r\n    //         {/*<NavLink to={'/dialogs'}>Dialogs</NavLink>*/}\r\n    //         <NavLink to={'/users'}>Users</NavLink>\r\n    //     </div>\r\n    // )\r\n\r\n    return (\r\n        <div className={\"d-flex flex-column flex-shrink-0 p-3 text-white bg-dark\"} style={{\"width\": \"280px\"}}>\r\n            <span className=\"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none\">\r\n                <svg className=\"bi me-2\" width=\"40\" height=\"32\">\r\n                </svg>\r\n                <span className=\"fs-4\">Menu</span>\r\n            </span>\r\n            <hr />\r\n                <ul className=\"nav nav-pills flex-column mb-auto\">\r\n                    <li>\r\n                        <NavLink to={'/'} exact={true} className=\"nav-link text-white\">\r\n                            <svg className=\"bi me-2\" width=\"16\" height=\"16\">\r\n                            </svg>\r\n                            Main Page\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to={'/profile'} className=\"nav-link text-white\">\r\n                            <svg className=\"bi me-2\" width=\"16\" height=\"16\">\r\n                            </svg>\r\n                            Profile\r\n                        </NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <NavLink to={'/users'} className=\"nav-link text-white\">\r\n                            <svg className=\"bi me-2\" width=\"16\" height=\"16\">\r\n                            </svg>\r\n                            Users\r\n                        </NavLink>\r\n                    </li>\r\n                </ul>\r\n        </div>\r\n)\r\n};\r\n\r\nexport default Navbar;","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING-IN-PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {\r\n                            ...u,\r\n                            followed: true\r\n                        }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {\r\n                            ...u,\r\n                            followed: false\r\n                        }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress:\r\n                    action.inProgress ?\r\n                        [...state.followingInProgress, action.userId] :\r\n                        state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({\r\n    type: FOLLOW,\r\n    userId\r\n});\r\nexport const unfollowSuccess = (userId) => ({\r\n    type: UNFOLLOW,\r\n    userId\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    users: users\r\n});\r\n\r\nexport const setCurrentPage = (page) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: page\r\n});\r\n\r\nexport const setTotalCount = (totalCount) => ({\r\n    type: SET_TOTAL_COUNT,\r\n    totalCount: totalCount\r\n});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching: isFetching\r\n});\r\n\r\nexport const toggleFollowingProgress = (inProgress, userId) => ({\r\n    type: FOLLOWING_IN_PROGRESS,\r\n    userId,\r\n    inProgress\r\n});\r\n\r\nexport const getUsers = (currentPage, pageSize) => (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    // this.getUsers(this.props.currentPage, this.props.pageSize);\r\n    usersAPI.getUsers(currentPage, pageSize).then(response => {\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalCount(response.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    });\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    usersAPI.follow(userId)\r\n        .then(response => {\r\n                if (response.resultCode === 0) {\r\n                    dispatch(followSuccess(userId));\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId));\r\n            }\r\n        );\r\n};\r\n\r\nexport const unfollow = (userId) => (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    usersAPI.unfollow(userId)\r\n        .then(response => {\r\n                if (response.resultCode === 0) {\r\n                    dispatch(unfollowSuccess(userId));\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId));\r\n            }\r\n        );\r\n}\r\n\r\nexport default usersReducer;","import React from \"react\";\r\nimport userImageDefault from '../../../assets/images/userImageDefault.png';\r\nimport s from './User.module.css';\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\n\r\nconst User = (props) => {\r\n    const history = useHistory();\r\n\r\n    const follow = () => {\r\n        props.follow(props.id);\r\n    };\r\n\r\n    const unfollow = () => {\r\n        props.unfollow(props.id);\r\n    };\r\n\r\n    const redirect = () => {\r\n        history.push('/login');\r\n    };\r\n\r\n    return (\r\n        <div className={s.user}>\r\n            <div><b>{props.name}</b></div>\r\n            <NavLink to={`/profile/${props.id}`}><img className={s.userImage}\r\n                                                      src={props.photos.small != null ? props.photos.small : userImageDefault}/></NavLink>\r\n            <div>\r\n                {props.followed ? <button disabled={props.followingInProgress.some(id => id === props.id)}\r\n                                          onClick={props.isAuth ? unfollow : redirect}>Unfollow</button> :\r\n                    <button disabled={props.followingInProgress.some(id => id === props.id)}\r\n                            onClick={props.isAuth ? follow : redirect}>Follow</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import s from './Paginator.module.css';\r\nimport React, {useState} from \"react\";\r\n\r\nconst Paginator = ({totalCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(Math.ceil(currentPage / portionSize));\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 1 ?\r\n                <span>\r\n                    <button onClick={() => setPortionNumber(1)}>First</button>\r\n                    <button onClick={() => setPortionNumber(portionNumber - 1)}>Prev</button>\r\n                </span> :\r\n                null\r\n            }\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\r\n                return <span key={p} className={currentPage === p ? s.pageNumber + ' ' + s.selectedPage : s.pageNumber}\r\n                             onClick={() => onPageChanged(p)}>{p}</span>\r\n            })}\r\n            {portionNumber < portionCount ?\r\n                <span>\r\n                    <button onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>\r\n                    <button onClick={() => setPortionNumber(portionCount)}>Last</button>\r\n                </span> :\r\n                null\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, getUsers,\r\n    setCurrentPage,\r\n    unfollow\r\n} from \"../../redux/usersReducer\";\r\nimport User from \"./User/User\";\r\nimport s from './Users.module.css';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nconst Users = (props) => {\r\n    return (\r\n        <div>\r\n            <Paginator totalCount={props.totalCount} pageSize={props.pageSize} onPageChanged={props.onPageChanged}\r\n                       currentPage={props.currentPage}/>\r\n\r\n            {props.isFetching ?\r\n                <Preloader/> :\r\n                props.users.map(u => <User key={u.id} photos={u.photos} name={u.name} status={u.status}\r\n                                           followed={u.followed} followingInProgress={props.followingInProgress}\r\n                                           id={u.id} follow={props.follow} unfollow={props.unfollow}\r\n                                           isAuth={props.isAuth}/>)}\r\n        </div>\r\n    );\r\n}\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (page) => {\r\n        if (page !== this.props.currentPage) {\r\n            this.props.setCurrentPage(page);\r\n            this.props.getUsers(page, this.props.pageSize);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {/*{*/}\r\n                {/*    this.props.isFetching ?*/}\r\n                {/*        <Preloader/> : null}*/}\r\n                <Users totalCount={this.props.totalCount} pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage} onPageChanged={this.onPageChanged} users={this.props.users}\r\n                       follow={this.props.follow} unfollow={this.props.unfollow}\r\n                       followingInProgress={this.props.followingInProgress} isAuth={this.props.isAuth}\r\n                       isFetching={this.props.isFetching}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // console.log('mstp USERS');\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalCount: state.usersPage.totalCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    getUsers,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersAPIComponent);","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth = true) => ({\r\n    type: SET_USER_DATA,\r\n    data: {\r\n        userId,\r\n        email,\r\n        login,\r\n        isAuth\r\n    }\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if (response.resultCode === 0) {\r\n        const {id, login, email} = response.data;\r\n        dispatch(setAuthUserData(id, email, login));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe)\r\n    if (response.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        const errorMessage = response.messages.length > 0 ? response.messages[0] : 'Something went wrong!';\r\n        dispatch(stopSubmit('login', {_error: errorMessage}));\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.resultCode === 0) {\r\n        // dispatch(getAuthUserData());\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nconst Header = (props) => {\r\n    const history = useHistory();\r\n\r\n    const onclick = () => {\r\n        history.push('/login');\r\n    };\r\n\r\n    return (\r\n        <header className={s.loginBlock + ' ' + s.header}>\r\n            <div className={s.rightBlock}>\r\n            {props.isAuth ?\r\n                <span className={s.loginBlock}>\r\n                    <NavLink to={`/profile`}>{props.login} </NavLink>\r\n                    <button onClick={props.logout}>Logout</button>\r\n                </span> :\r\n                <button onClick={onclick}>Login</button>\r\n            }\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nclass HeaderC extends React.Component {\r\n    componentDidMount() {\r\n        // this.props.getAuthUserData();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderC);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {login, logout} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from '../common/FormsControls/FormsControls.module.css';\r\nimport loginFormStyles from './Login.module.css';\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <div className={loginFormStyles.loginForm}>\r\n            <h1>LOGIN</h1>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field component={Input} name={'email'} placeholder={'Login'} validate={[required]}/>\r\n                </div>\r\n                <div>\r\n                    <Field component={Input} type={'password'} name={'password'} placeholder={'Password'}\r\n                           validate={[required]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name={'rememberMe'} component={'input'} type={'checkbox'}/> Remember me\r\n                </div>\r\n                {props.error ?\r\n                    <div className={s.summaryError}>\r\n                        {props.error}\r\n                    </div> :\r\n                    null\r\n                }\r\n                <div>\r\n                    <button>Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LoginFormRedux = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        const {email, password, rememberMe} = formData;\r\n        props.login(email, password, rememberMe);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={`profile`}/>\r\n    }\r\n\r\n    return (\r\n        <LoginFormRedux onSubmit={onSubmit}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    userId: state.auth.userId\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    login,\r\n    logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst INITIALIZING_SUCCESS = 'SET-INITIALIZED';\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZING_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializingSuccess = () => ({\r\n    type: INITIALIZING_SUCCESS\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    const promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n                dispatch(initializingSuccess());\r\n            }\r\n        )\r\n};\r\n\r\nexport default appReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE = 'UPDATE-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [],\r\n    messages: [],\r\n    newMessage: ''\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let new_message = {\r\n                id: state.messages.length,\r\n                message: state.newMessage\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, new_message],\r\n                newMessage: ''\r\n            };\r\n        }\r\n        case UPDATE_NEW_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                newMessage: action.newMessage\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = () => ({\r\n    type: SEND_MESSAGE\r\n});\r\n\r\nexport const updateNewMessageBody = (newMessage) => ({\r\n    type: UPDATE_NEW_MESSAGE,\r\n    newMessage\r\n});\r\n\r\nexport default dialogsReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddlerware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddlerware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport s from './Footer.module.css';\r\n\r\nconst Footer = (props) => {\r\n    return (\r\n        <footer className={s.footer}>\r\n            Made by <a target={'_blank'} href={'https://github.com/Reedgern'}>Reedgern</a>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nconst MainPage = (props) => {\r\n    return (\r\n        <>\r\n            <h1>Добро пожаловать на главную страницу!</h1>\r\n            <p>Используемое Backend-API - <a target={'_blank'} href={'https://social-network.samuraijs.com'}>Samurai JS</a></p>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default MainPage;","import React, {Component} from \"react\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Users from \"./components/Users/Users\";\nimport Header from \"./components/Header/Header\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/store\";\nimport {BrowserRouter, HashRouter, Route, Switch} from \"react-router-dom\";\nimport Footer from \"./components/Footer/Footer\";\nimport MainPage from \"./components/MainPage/MainPage\";\n\nconst Profile = React.lazy(() => import('./components/Profile/Profile'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n                <div className={'gridWrapper'}>\n                <Header/>\n                <div className={'main'}>\n                    <div className={'navBar'}>\n                        <Navbar/>\n                    </div>\n                    <div className={'content'}>\n                        <Switch>\n                        <Route exact path={'/'} render={() => <MainPage />}/>\n                        <Route path={'/login'} render={() => <Login/>}/>\n                        <Route path={'/profile/:userId?'}\n                               render={() => <React.Suspense fallback={<Preloader/>}><Profile/></React.Suspense>}/>\n                        {/*<Route path={'/dialogs'} render={() => <DialogsContainer/>}/>*/}\n                        <Route path={'/users'} render={() => <Users/>}/>\n                        <Route path={'*'} render={() => <div>404 Not Found</div>}/>\n                        </Switch>\n                    </div>\n                </div>\n                <Footer/>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nconst mapDispatchToProps = {\n    initializeApp\n};\n\nconst AppContainer = connect(mapStateToProps, mapDispatchToProps)(App);\n\nconst WebApp = (props) => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    );\n};\n\nexport default WebApp;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n// class Temp extends React.Component {\n//     state = {\n//         count: 0\n//     };\n//\n//     incrementCount = () => {\n//         this.setState({\n//             count: this.state.count + 1\n//         });\n//     };\n//\n//     onHandle = () => {\n//         this.incrementCount();\n//         console.log('incremented!');\n//         this.incrementCount();\n//         console.log('incremented!');\n//         this.incrementCount();\n//         console.log('incremented!');\n//     };\n//\n//     render() {\n//         console.log('render!');\n//         return (\n//             <div>\n//                 {this.state.count}\n//                 <button onClick={this.onHandle}>Increment</button>\n//             </div>\n//         )\n//     }\n// }\n//\n// ReactDOM.render(\n//     <Temp/>,\n//     document.getElementById('root')\n// );\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__15RBH\",\"error\":\"FormsControls_error__IJC1p\",\"summaryError\":\"FormsControls_summaryError__3KGcd\"};","import React from \"react\";\r\nimport preloader from '../../../assets/images/preloader.gif';\r\n\r\nconst Preloader = (props) => {\r\n    // return (\r\n    //     <div>\r\n    //         <img src={preloader}/>\r\n    //     </div>\r\n    // )\r\n\r\n    return (\r\n        <div className={'d-flex justify-content-center'}>\r\n        <div className=\"spinner-border m-5\" role=\"status\">\r\n            <span>Loading...</span>\r\n        </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2mE0n\",\"pageNumber\":\"Paginator_pageNumber__2iZXT\",\"selectedPage\":\"Paginator_selectedPage__16YJ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Header_loginBlock__1D_jF\",\"header\":\"Header_header__2ghom\",\"rightBlock\":\"Header_rightBlock__1zgpT\"};","export const required = value => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required!\";\r\n};\r\n\r\nexport const maxLength = max => value => {\r\n    if (value.length > max) {\r\n        return `Max length is ${max}!`;\r\n    }\r\n    return undefined;\r\n};","import React from \"react\";\r\nimport s from './FormsControls.module.css';\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const isError = meta.error && meta.touched;\r\n    return (\r\n        <div className={s.formControl + ' ' + (isError ? s.error: '')}>\r\n            <textarea {...input} {...props} />\r\n            <div>\r\n                {isError ?\r\n                    <span>{meta.error}</span> :\r\n                    null}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const isError = meta.error && meta.touched;\r\n    return (\r\n        <div className={s.formControl + ' ' + (isError ? s.error: '')}>\r\n            <input {...input} {...props} />\r\n            <div>\r\n                {isError ?\r\n                    <span>{meta.error}</span> :\r\n                    null}\r\n            </div>\r\n        </div>\r\n    );\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3YTtd\",\"userImage\":\"User_userImage__2b6eQ\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst SAVE_IMAGE = 'SAVE-IMAGE';\r\nconst TOGGLE_FETCHING = 'profileReducer-ToggleFetching';\r\n\r\nlet initialState = {\r\n    posts: [],\r\n    profile: null,\r\n    status: '',\r\n    isFetching: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let new_post = {\r\n                id: state.posts.length,\r\n                message: action.newPostText,\r\n                likes: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, new_post]\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n                posts: [],\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_IMAGE: {\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            }\r\n        }\r\n        case TOGGLE_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({\r\n    type: ADD_POST,\r\n    newPostText\r\n});\r\n\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n});\r\n\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n});\r\n\r\nexport const saveImagesSuccess = (photos) => ({\r\n    type: SAVE_IMAGE,\r\n    photos\r\n});\r\n\r\nexport const toggleFetching = (isFetching) => ({\r\n    type: TOGGLE_FETCHING,\r\n    isFetching\r\n});\r\n\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n    usersAPI.getProfile(userId)\r\n        .then(response => {\r\n            dispatch(setUserProfile(response));\r\n            dispatch(toggleFetching(false));\r\n        });\r\n};\r\n\r\nexport const getStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(response => {\r\n            dispatch(setStatus(response));\r\n        })\r\n};\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n        });\r\n};\r\n\r\nexport const saveImage = (image) => async (dispatch) => {\r\n    const response = await profileAPI.saveImage(image);\r\n    if (response.resultCode === 0) {\r\n        dispatch(saveImagesSuccess(response.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profileData) => async (dispatch) => {\r\n    const response = await profileAPI.saveProfile(profileData);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserProfile(profileData));\r\n    }\r\n    else {\r\n        dispatch(stopSubmit('profileData', {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}