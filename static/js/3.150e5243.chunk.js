(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{287:function(t,e,s){t.exports={profileImage:"ProfileInfo_profileImage__2yN_P"}},289:function(t,e,s){"use strict";s.r(e);var n=s(33),r=s(34),a=s(37),c=s(36),o=s(5),u=s(0),i=s.n(u),p=s(101),j=s(124),l=s(1),f=function(t){var e=Object(u.useState)(!1),s=Object(j.a)(e,2),n=s[0],r=s[1],a=Object(u.useState)(t.status),c=Object(j.a)(a,2),o=c[0],i=c[1];Object(u.useEffect)((function(){i(t.status)}),[t.status]);var p=function(e){e||t.updateStatus(o),r(e)};return Object(l.jsx)("div",{children:n?Object(l.jsx)("div",{children:Object(l.jsx)("input",{onChange:function(t){i(t.currentTarget.value)},autoFocus:!0,onBlur:function(){return p(!1)},value:o})}):Object(l.jsx)("div",{onDoubleClick:function(){return p(!0)},children:t.status||"There is no status right now..."})})},b=s(287),d=s.n(b),h=function(t){var e=t.profile,s=t.updateStatus,n=t.status,r=t.isOwner,a=t.saveImage;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:e.fullName}),Object(l.jsx)("img",{className:d.a.profileImage,src:null!=e.photos.large?e.photos.large:p.a}),r?Object(l.jsx)("input",{type:"file",onChange:function(t){a(t.target.files[0])}}):null,Object(l.jsx)(f,{updateStatus:s,status:n})]})},O=s(12),m=function(t){return Object(l.jsxs)("div",{children:[t.message," / ",t.likes]})},x=s(91),g=s(122),v=s(123),P=s(84),I=s(85),y=Object(P.a)(50),S=Object(v.a)({form:"addPost"})((function(t){return Object(l.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(l.jsx)("div",{children:Object(l.jsx)(g.a,{component:I.b,placeholder:"Enter new post",name:"newPostText",validate:[P.b,y]})}),Object(l.jsx)("button",{children:"Add post"})]})})),k={addPost:x.a},w=Object(O.b)((function(t){return{posts:t.profilePage.posts}}),k)((function(t){var e=t.posts.map((function(t){return Object(l.jsx)(m,{message:t.message,likes:t.likes},t.id)}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"My posts"}),e,Object(l.jsx)(S,{onSubmit:function(e){t.addPost(e.newPostText)}})]})})),U=s(48),A=s(9),C=s(10),T=function(t){return t.profile?Object(l.jsxs)("div",{children:[Object(l.jsx)(h,Object(o.a)({},t)),Object(l.jsx)(w,{})]}):Object(l.jsx)(U.a,{})},_=function(t){Object(a.a)(s,t);var e=Object(c.a)(s);function s(){var t;Object(n.a)(this,s);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).refreshProfile=function(){var e=t.props.match.params.userId;e||(e=t.props.authUserId)||t.props.history.push("/login"),t.props.getUserProfile(e),t.props.getStatus(e)},t}return Object(r.a)(s,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(l.jsx)(T,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),s}(i.a.Component),D={getUserProfile:x.d,getStatus:x.c,updateStatus:x.f,saveImage:x.e};e.default=Object(C.d)(Object(O.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authUserId:t.auth.userId,isAuth:t.auth.isAuth}}),D),A.f)(_)}}]);
//# sourceMappingURL=3.150e5243.chunk.js.map