{"version":3,"sources":["assets/images/userImageDefault.png","components/Navbar/Navbar.module.css","api/api.js","components/Login/Login.module.css","components/Footer/Footer.module.css","components/Users/Users.module.css","components/Navbar/Navbar.jsx","redux/usersReducer.js","components/Users/User/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/authReducer.js","components/Header/Header.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/dialogsReducer.js","redux/store.js","components/Footer/Footer.jsx","components/MainPage/MainPage.jsx","App.js","reportWebVitals.js","index.js","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.jsx","assets/images/preloader.gif","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/common/FormsControls/FormsControls.jsx","components/Users/User/User.module.css","components/Header/Header.module.css","redux/profileReducer.js"],"names":["module","exports","axiosInstance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","page","count","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","error","profileAPI","authAPI","me","login","email","password","rememberMe","loginData","logout","getStatus","updateStatus","status","put","saveImage","image","formData","FormData","append","saveProfile","profileData","Navbar","props","className","s","gridWrapper","to","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","initialState","users","totalCount","pageSize","currentPage","isFetching","followingInProgress","toggleIsFetching","type","toggleFollowingProgress","inProgress","usersReducer","state","action","map","u","id","followed","filter","User","history","useHistory","redirect","push","user","name","userImage","src","photos","small","userImageDefault","disabled","some","onClick","isAuth","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","pageNumber","selectedPage","Users","Preloader","UsersAPIComponent","setCurrentPage","this","React","Component","mapDispatchToProps","dispatch","resultCode","followSuccess","unfollowSuccess","items","connect","usersPage","auth","SET_USER_DATA","setAuthUserData","getAuthUserData","a","authReducer","Header","loginBlock","header","HeaderC","LoginFormRedux","reduxForm","form","loginFormStyles","loginForm","onSubmit","handleSubmit","Field","component","Input","placeholder","validate","required","summaryError","errorMessage","messages","length","stopSubmit","_error","initialized","INITIALIZING_SUCCESS","appReducer","SEND_MESSAGE","UPDATE_NEW_MESSAGE","dialogs","newMessage","dialogsReducer","new_message","message","reducers","combineReducers","profilePage","profileReducer","dialogsPage","app","formReducer","store","createStore","applyMiddleware","thunkMiddlerware","window","Footer","footer","target","href","MainPage","Profile","lazy","App","initializeApp","exact","path","render","Suspense","fallback","promise","Promise","all","AppContainer","WebApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","value","maxLength","max","Textarea","input","meta","isError","touched","formControl","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_IMAGE","TOGGLE_FETCHING","posts","profile","addPost","newPostText","setUserProfile","setStatus","toggleFetching","getUserProfile","reject","new_post","likes"],"mappings":"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","file":"static/js/main.f4173980.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/userImageDefault.43e64566.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gridWrapper\":\"Navbar_gridWrapper__2JrVp\"};","import axios from \"axios\";\r\n\r\nconst apiKey = '920ab2ef-c493-4bda-b564-47c5726249c2';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": apiKey\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers: (page, count) => {\r\n        return axiosInstance.get(`users?page=${page}&count=${count}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow: (userId) => {\r\n        return axiosInstance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow: (userId) => {\r\n        return axiosInstance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getProfile: (userId) => {\r\n        console.error('Old version. Use profileAPI.getProfile() instead.');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me: () => {\r\n        return axiosInstance.get('auth/me')\r\n            .then(response => response.data);\r\n    },\r\n    login: (email, password, rememberMe = false) => {\r\n        const loginData = {email, password, rememberMe};\r\n        return axiosInstance.post('/auth/login', loginData)\r\n            .then(response => response.data);\r\n    },\r\n    logout: () => {\r\n        return axiosInstance.delete('/auth/login')\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile: (userId) => {\r\n        return axiosInstance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus: (userId) => {\r\n        return axiosInstance.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    updateStatus: (status) => {\r\n        return axiosInstance.put(`profile/status`, {status: status})\r\n            .then(response => response.data);\r\n    },\r\n    saveImage: (image) => {\r\n        let formData = new FormData();\r\n        formData.append('image', image);\r\n        return axiosInstance.put(`profile/photo`, formData,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n            .then(response => response.data);\r\n    },\r\n    saveProfile: (profileData) => {\r\n        return axiosInstance.put('profile', profileData);\r\n    }\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"Login_loginForm__1tOEH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3HObL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Users_selectedPage__wkWUX\"};","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Navbar.module.css';\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n        <div className={s.gridWrapper}>\r\n            <NavLink to={'/'}>Main Page</NavLink>\r\n            <NavLink to={'/profile'}>My Profile</NavLink>\r\n            {/*<NavLink to={'/dialogs'}>Dialogs</NavLink>*/}\r\n            <NavLink to={'/users'}>Users</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Navbar;","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING-IN-PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {\r\n                            ...u,\r\n                            followed: true\r\n                        }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {\r\n                            ...u,\r\n                            followed: false\r\n                        }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress:\r\n                    action.inProgress ?\r\n                        [...state.followingInProgress, action.userId] :\r\n                        state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({\r\n    type: FOLLOW,\r\n    userId\r\n});\r\nexport const unfollowSuccess = (userId) => ({\r\n    type: UNFOLLOW,\r\n    userId\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    users: users\r\n});\r\n\r\nexport const setCurrentPage = (page) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: page\r\n});\r\n\r\nexport const setTotalCount = (totalCount) => ({\r\n    type: SET_TOTAL_COUNT,\r\n    totalCount: totalCount\r\n});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching: isFetching\r\n});\r\n\r\nexport const toggleFollowingProgress = (inProgress, userId) => ({\r\n    type: FOLLOWING_IN_PROGRESS,\r\n    userId,\r\n    inProgress\r\n});\r\n\r\nexport const getUsers = (currentPage, pageSize) => (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    // this.getUsers(this.props.currentPage, this.props.pageSize);\r\n    usersAPI.getUsers(currentPage, pageSize).then(response => {\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalCount(response.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    });\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    usersAPI.follow(userId)\r\n        .then(response => {\r\n                if (response.resultCode === 0) {\r\n                    dispatch(followSuccess(userId));\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId));\r\n            }\r\n        );\r\n};\r\n\r\nexport const unfollow = (userId) => (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    usersAPI.unfollow(userId)\r\n        .then(response => {\r\n                if (response.resultCode === 0) {\r\n                    dispatch(unfollowSuccess(userId));\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId));\r\n            }\r\n        );\r\n}\r\n\r\nexport default usersReducer;","import React from \"react\";\r\nimport userImageDefault from '../../../assets/images/userImageDefault.png';\r\nimport s from './User.module.css';\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\n\r\nconst User = (props) => {\r\n    const history = useHistory();\r\n\r\n    const follow = () => {\r\n        props.follow(props.id);\r\n    };\r\n\r\n    const unfollow = () => {\r\n        props.unfollow(props.id);\r\n    };\r\n\r\n    const redirect = () => {\r\n        history.push('/login');\r\n    };\r\n\r\n    return (\r\n        <div className={s.user}>\r\n            <div><b>{props.name}</b></div>\r\n            <NavLink to={`/profile/${props.id}`}><img className={s.userImage}\r\n                                                      src={props.photos.small != null ? props.photos.small : userImageDefault}/></NavLink>\r\n            <div>\r\n                {props.followed ? <button disabled={props.followingInProgress.some(id => id === props.id)}\r\n                                          onClick={props.isAuth ? unfollow : redirect}>Unfollow</button> :\r\n                    <button disabled={props.followingInProgress.some(id => id === props.id)}\r\n                            onClick={props.isAuth ? follow : redirect}>Follow</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import s from './Paginator.module.css';\r\nimport React, {useState} from \"react\";\r\n\r\nconst Paginator = ({totalCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(Math.ceil(currentPage / portionSize));\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 1 ?\r\n                <span>\r\n                    <button onClick={() => setPortionNumber(1)}>First</button>\r\n                    <button onClick={() => setPortionNumber(portionNumber - 1)}>Prev</button>\r\n                </span> :\r\n                null\r\n            }\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\r\n                return <span key={p} className={currentPage === p ? s.pageNumber + ' ' + s.selectedPage : s.pageNumber}\r\n                             onClick={() => onPageChanged(p)}>{p}</span>\r\n            })}\r\n            {portionNumber < portionCount ?\r\n                <span>\r\n                    <button onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>\r\n                    <button onClick={() => setPortionNumber(portionCount)}>Last</button>\r\n                </span> :\r\n                null\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, getUsers,\r\n    setCurrentPage,\r\n    unfollow\r\n} from \"../../redux/usersReducer\";\r\nimport User from \"./User/User\";\r\nimport s from './Users.module.css';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nconst Users = (props) => {\r\n    return (\r\n        <div>\r\n            <Paginator totalCount={props.totalCount} pageSize={props.pageSize} onPageChanged={props.onPageChanged}\r\n                       currentPage={props.currentPage}/>\r\n\r\n            {props.isFetching ?\r\n                <Preloader/> :\r\n                props.users.map(u => <User key={u.id} photos={u.photos} name={u.name} status={u.status}\r\n                                           followed={u.followed} followingInProgress={props.followingInProgress}\r\n                                           id={u.id} follow={props.follow} unfollow={props.unfollow}\r\n                                           isAuth={props.isAuth}/>)}\r\n        </div>\r\n    );\r\n}\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (page) => {\r\n        if (page !== this.props.currentPage) {\r\n            this.props.setCurrentPage(page);\r\n            this.props.getUsers(page, this.props.pageSize);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {/*{*/}\r\n                {/*    this.props.isFetching ?*/}\r\n                {/*        <Preloader/> : null}*/}\r\n                <Users totalCount={this.props.totalCount} pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage} onPageChanged={this.onPageChanged} users={this.props.users}\r\n                       follow={this.props.follow} unfollow={this.props.unfollow}\r\n                       followingInProgress={this.props.followingInProgress} isAuth={this.props.isAuth}\r\n                       isFetching={this.props.isFetching}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // console.log('mstp USERS');\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalCount: state.usersPage.totalCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    getUsers,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersAPIComponent);","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth = true) => ({\r\n    type: SET_USER_DATA,\r\n    data: {\r\n        userId,\r\n        email,\r\n        login,\r\n        isAuth\r\n    }\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if (response.resultCode === 0) {\r\n        const {id, login, email} = response.data;\r\n        dispatch(setAuthUserData(id, email, login));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe)\r\n    if (response.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        const errorMessage = response.messages.length > 0 ? response.messages[0] : 'Something went wrong!';\r\n        dispatch(stopSubmit('login', {_error: errorMessage}));\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.resultCode === 0) {\r\n        // dispatch(getAuthUserData());\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.loginBlock + ' ' + s.header}>\r\n            {props.isAuth ?\r\n                <div>\r\n                    <NavLink to={`/profile`}>{props.login} </NavLink><button onClick={props.logout}>Logout</button>\r\n                </div> :\r\n                <NavLink to={'/login'}>Login</NavLink>\r\n            }\r\n        </header>\r\n    );\r\n};\r\n\r\nclass HeaderC extends React.Component {\r\n    componentDidMount() {\r\n        // this.props.getAuthUserData();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderC);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {login, logout} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from '../common/FormsControls/FormsControls.module.css';\r\nimport loginFormStyles from './Login.module.css';\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <div className={loginFormStyles.loginForm}>\r\n            <h1>LOGIN</h1>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field component={Input} name={'email'} placeholder={'Login'} validate={[required]}/>\r\n                </div>\r\n                <div>\r\n                    <Field component={Input} type={'password'} name={'password'} placeholder={'Password'}\r\n                           validate={[required]}/>\r\n                </div>\r\n                <div>\r\n                    <Field name={'rememberMe'} component={'input'} type={'checkbox'}/> Remember me\r\n                </div>\r\n                {props.error ?\r\n                    <div className={s.summaryError}>\r\n                        {props.error}\r\n                    </div> :\r\n                    null\r\n                }\r\n                <div>\r\n                    <button>Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LoginFormRedux = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        const {email, password, rememberMe} = formData;\r\n        props.login(email, password, rememberMe);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={`profile`}/>\r\n    }\r\n\r\n    return (\r\n        <LoginFormRedux onSubmit={onSubmit}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    userId: state.auth.userId\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    login,\r\n    logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst INITIALIZING_SUCCESS = 'SET-INITIALIZED';\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZING_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializingSuccess = () => ({\r\n    type: INITIALIZING_SUCCESS\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    const promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n                dispatch(initializingSuccess());\r\n            }\r\n        )\r\n};\r\n\r\nexport default appReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE = 'UPDATE-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [],\r\n    messages: [],\r\n    newMessage: ''\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let new_message = {\r\n                id: state.messages.length,\r\n                message: state.newMessage\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, new_message],\r\n                newMessage: ''\r\n            };\r\n        }\r\n        case UPDATE_NEW_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                newMessage: action.newMessage\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = () => ({\r\n    type: SEND_MESSAGE\r\n});\r\n\r\nexport const updateNewMessageBody = (newMessage) => ({\r\n    type: UPDATE_NEW_MESSAGE,\r\n    newMessage\r\n});\r\n\r\nexport default dialogsReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddlerware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddlerware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport s from './Footer.module.css';\r\n\r\nconst Footer = (props) => {\r\n    return (\r\n        <footer className={s.footer}>\r\n            Made by <a target={'_blank'} href={'https://github.com/Reedgern'}>Reedgern</a>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nconst MainPage = (props) => {\r\n    return (\r\n        <>\r\n            <h1>Добро пожаловать на главную страницу!</h1>\r\n            <p>Используемое Backend-API - <a target={'_blank'} href={'https://social-network.samuraijs.com'}>Samurai JS</a></p>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default MainPage;","import React, {Component} from \"react\";\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Users from \"./components/Users/Users\";\nimport Header from \"./components/Header/Header\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/store\";\nimport {BrowserRouter, HashRouter, Route, Switch} from \"react-router-dom\";\nimport Footer from \"./components/Footer/Footer\";\nimport MainPage from \"./components/MainPage/MainPage\";\n\nconst Profile = React.lazy(() => import('./components/Profile/Profile'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className={'gridWrapper'}>\n                <Header/>\n                <div className={'main'}>\n                    <div className={'navBar'}>\n                        <Navbar/>\n                    </div>\n                    <div className={'content'}>\n                        <Switch>\n                        <Route exact path={'/'} render={() => <MainPage />}/>\n                        <Route path={'/login'} render={() => <Login/>}/>\n                        <Route path={'/profile/:userId?'}\n                               render={() => <React.Suspense fallback={<Preloader/>}><Profile/></React.Suspense>}/>\n                        {/*<Route path={'/dialogs'} render={() => <DialogsContainer/>}/>*/}\n                        <Route path={'/users'} render={() => <Users/>}/>\n                        <Route path={'*'} render={() => <div>404 Not Found</div>}/>\n                        </Switch>\n                    </div>\n                </div>\n                <Footer/>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nconst mapDispatchToProps = {\n    initializeApp\n};\n\nconst AppContainer = connect(mapStateToProps, mapDispatchToProps)(App);\n\nconst WebApp = (props) => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    );\n};\n\nexport default WebApp;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n// class Temp extends React.Component {\n//     state = {\n//         count: 0\n//     };\n//\n//     incrementCount = () => {\n//         this.setState({\n//             count: this.state.count + 1\n//         });\n//     };\n//\n//     onHandle = () => {\n//         this.incrementCount();\n//         console.log('incremented!');\n//         this.incrementCount();\n//         console.log('incremented!');\n//         this.incrementCount();\n//         console.log('incremented!');\n//     };\n//\n//     render() {\n//         console.log('render!');\n//         return (\n//             <div>\n//                 {this.state.count}\n//                 <button onClick={this.onHandle}>Increment</button>\n//             </div>\n//         )\n//     }\n// }\n//\n// ReactDOM.render(\n//     <Temp/>,\n//     document.getElementById('root')\n// );\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__15RBH\",\"error\":\"FormsControls_error__IJC1p\",\"summaryError\":\"FormsControls_summaryError__3KGcd\"};","import React from \"react\";\r\nimport preloader from '../../../assets/images/preloader.gif';\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader;","export default \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2mE0n\",\"pageNumber\":\"Paginator_pageNumber__2iZXT\",\"selectedPage\":\"Paginator_selectedPage__16YJ9\"};","export const required = value => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required!\";\r\n};\r\n\r\nexport const maxLength = max => value => {\r\n    if (value.length > max) {\r\n        return `Max length is ${max}!`;\r\n    }\r\n    return undefined;\r\n};","import React from \"react\";\r\nimport s from './FormsControls.module.css';\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const isError = meta.error && meta.touched;\r\n    return (\r\n        <div className={s.formControl + ' ' + (isError ? s.error: '')}>\r\n            <textarea {...input} {...props} />\r\n            <div>\r\n                {isError ?\r\n                    <span>{meta.error}</span> :\r\n                    null}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const isError = meta.error && meta.touched;\r\n    return (\r\n        <div className={s.formControl + ' ' + (isError ? s.error: '')}>\r\n            <input {...input} {...props} />\r\n            <div>\r\n                {isError ?\r\n                    <span>{meta.error}</span> :\r\n                    null}\r\n            </div>\r\n        </div>\r\n    );\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3YTtd\",\"userImage\":\"User_userImage__2b6eQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Header_loginBlock__1D_jF\",\"header\":\"Header_header__2ghom\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst SAVE_IMAGE = 'SAVE-IMAGE';\r\nconst TOGGLE_FETCHING = 'profileReducer-ToggleFetching';\r\n\r\nlet initialState = {\r\n    posts: [],\r\n    profile: null,\r\n    status: '',\r\n    isFetching: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let new_post = {\r\n                id: state.posts.length,\r\n                message: action.newPostText,\r\n                likes: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, new_post]\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n                posts: [],\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_IMAGE: {\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            }\r\n        }\r\n        case TOGGLE_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({\r\n    type: ADD_POST,\r\n    newPostText\r\n});\r\n\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n});\r\n\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n});\r\n\r\nexport const saveImagesSuccess = (photos) => ({\r\n    type: SAVE_IMAGE,\r\n    photos\r\n});\r\n\r\nexport const toggleFetching = (isFetching) => ({\r\n    type: TOGGLE_FETCHING,\r\n    isFetching\r\n});\r\n\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n    usersAPI.getProfile(userId)\r\n        .then(response => {\r\n            dispatch(setUserProfile(response));\r\n            dispatch(toggleFetching(false));\r\n        });\r\n};\r\n\r\nexport const getStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(response => {\r\n            dispatch(setStatus(response));\r\n        })\r\n};\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n        });\r\n};\r\n\r\nexport const saveImage = (image) => async (dispatch) => {\r\n    const response = await profileAPI.saveImage(image);\r\n    if (response.resultCode === 0) {\r\n        dispatch(saveImagesSuccess(response.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profileData) => async (dispatch) => {\r\n    const response = await profileAPI.saveProfile(profileData);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserProfile(profileData));\r\n    }\r\n    else {\r\n        dispatch(stopSubmit('profileData', {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}