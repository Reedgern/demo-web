{"version":3,"sources":["assets/images/userImageDefault.png","components/Users/User/User.module.css","components/Header/Header.module.css","api/api.js","components/Users/Users.module.css","components/Navbar/Navbar.jsx","redux/usersReducer.js","components/Users/User/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/authReducer.js","components/Header/Header.jsx","components/Login/Login.jsx","redux/appReducer.js","App.js","reportWebVitals.js","redux/dialogsReducer.js","redux/store.js","index.js","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.jsx","assets/images/preloader.gif","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/common/FormsControls/FormsControls.jsx","redux/profileReducer.js"],"names":["module","exports","axiosInstance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","page","count","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","error","profileAPI","authAPI","me","login","email","password","rememberMe","loginData","logout","getStatus","updateStatus","status","put","saveImage","image","formData","FormData","append","Navbar","props","to","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","initialState","users","totalCount","pageSize","currentPage","isFetching","followingInProgress","toggleIsFetching","type","toggleFollowingProgress","inProgress","usersReducer","state","action","map","u","id","followed","filter","User","className","s","userImage","src","photos","small","userImageDefault","name","disabled","some","onClick","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","pageNumber","selectedPage","Users","UsersAPIComponent","setCurrentPage","this","Preloader","React","Component","mapDispatchToProps","dispatch","resultCode","followSuccess","unfollowSuccess","items","connect","usersPage","SET_USER_DATA","isAuth","setAuthUserData","getAuthUserData","a","authReducer","Header","loginBlock","HeaderC","auth","LoginFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Input","placeholder","validate","required","summaryError","errorMessage","messages","length","stopSubmit","_error","initialized","INITIALIZING_SUCCESS","appReducer","Profile","lazy","App","initializeApp","path","render","Suspense","fallback","promise","Promise","all","app","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","SEND_MESSAGE","UPDATE_NEW_MESSAGE","dialogs","newMessage","dialogsReducer","new_message","message","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","store","createStore","applyMiddleware","thunkMiddlerware","window","ReactDOM","document","getElementById","value","maxLength","max","Textarea","input","meta","isError","touched","formControl","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_IMAGE","posts","profile","addPost","newPostText","setStatus","getUserProfile","new_post","likes"],"mappings":"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","file":"static/js/main.c48dced2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/userImageDefault.43e64566.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userImage\":\"User_userImage__2b6eQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"Header_loginBlock__1D_jF\"};","import axios from \"axios\";\r\n\r\nconst apiKey = 'c54c939b-8f64-4732-8882-0e1faf3bbe98';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": apiKey\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers: (page, count) => {\r\n        return axiosInstance.get(`users?page=${page}&count=${count}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow: (userId) => {\r\n        return axiosInstance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow: (userId) => {\r\n        return axiosInstance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getProfile: (userId) => {\r\n        console.error('Old version. Use profileAPI.getProfile() instead.');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me: () => {\r\n        return axiosInstance.get('auth/me')\r\n            .then(response => response.data);\r\n    },\r\n    login: (email, password, rememberMe = false) => {\r\n        const loginData = {email, password, rememberMe};\r\n        return axiosInstance.post('/auth/login', loginData)\r\n            .then(response => response.data);\r\n    },\r\n    logout: () => {\r\n        return axiosInstance.delete('/auth/login')\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile: (userId) => {\r\n        return axiosInstance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus: (userId) => {\r\n        return axiosInstance.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    updateStatus: (status) => {\r\n        return axiosInstance.put(`profile/status`, {status: status})\r\n            .then(response => response.data);\r\n    },\r\n    saveImage: (image) => {\r\n        let formData = new FormData();\r\n        formData.append('image', image);\r\n        return axiosInstance.put(`profile/photo`, formData,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            })\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Users_selectedPage__wkWUX\"};","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n        <div>\r\n            <NavLink to={'/profile'}>Profile</NavLink>\r\n            {/*<NavLink to={'/dialogs'}>Dialogs</NavLink>*/}\r\n            <NavLink to={'/users'}>Users</NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Navbar;","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING-IN-PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCount: 0,\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {\r\n                            ...u,\r\n                            followed: true\r\n                        }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {\r\n                            ...u,\r\n                            followed: false\r\n                        }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalCount: action.totalCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress:\r\n                    action.inProgress ?\r\n                        [...state.followingInProgress, action.userId] :\r\n                        state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({\r\n    type: FOLLOW,\r\n    userId\r\n});\r\nexport const unfollowSuccess = (userId) => ({\r\n    type: UNFOLLOW,\r\n    userId\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    users: users\r\n});\r\n\r\nexport const setCurrentPage = (page) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: page\r\n});\r\n\r\nexport const setTotalCount = (totalCount) => ({\r\n    type: SET_TOTAL_COUNT,\r\n    totalCount: totalCount\r\n});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n    type: TOGGLE_IS_FETCHING,\r\n    isFetching: isFetching\r\n});\r\n\r\nexport const toggleFollowingProgress = (inProgress, userId) => ({\r\n    type: FOLLOWING_IN_PROGRESS,\r\n    userId,\r\n    inProgress\r\n});\r\n\r\nexport const getUsers = (currentPage, pageSize) => (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    // this.getUsers(this.props.currentPage, this.props.pageSize);\r\n    usersAPI.getUsers(currentPage, pageSize).then(response => {\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalCount(response.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    });\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    usersAPI.follow(userId)\r\n        .then(response => {\r\n                if (response.resultCode === 0) {\r\n                    dispatch(followSuccess(userId));\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId));\r\n            }\r\n        );\r\n};\r\n\r\nexport const unfollow = (userId) => (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    usersAPI.unfollow(userId)\r\n        .then(response => {\r\n                if (response.resultCode === 0) {\r\n                    dispatch(unfollowSuccess(userId));\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId));\r\n            }\r\n        );\r\n}\r\n\r\nexport default usersReducer;","import React from \"react\";\r\nimport userImageDefault from '../../../assets/images/userImageDefault.png';\r\nimport s from './User.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = (props) => {\r\n    const follow = () => {\r\n        props.follow(props.id);\r\n    };\r\n\r\n    const unfollow = () => {\r\n        props.unfollow(props.id);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <NavLink to={`/profile/${props.id}`}><img className={s.userImage}\r\n                                                          src={props.photos.small != null ? props.photos.small : userImageDefault}/></NavLink>\r\n            </div>\r\n            <div>{props.name} / {props.status != null ? props.status : 'Status is empty right now...'}</div>\r\n            <div>\r\n                {props.followed ? <button disabled={props.followingInProgress.some(id => id === props.id)}\r\n                                          onClick={unfollow}>Unfollow</button> :\r\n                    <button disabled={props.followingInProgress.some(id => id === props.id)}\r\n                            onClick={follow}>Follow</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import s from './Paginator.module.css';\r\nimport React, {useState} from \"react\";\r\n\r\nconst Paginator = ({totalCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 1 ?\r\n                <button onClick={() => setPortionNumber(portionNumber - 1)}>Prev</button> :\r\n                null\r\n            }\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\r\n                return <span key={p} className={currentPage === p ? s.pageNumber + ' ' + s.selectedPage : s.pageNumber}\r\n                             onClick={() => onPageChanged(p)}>{p}</span>\r\n            })}\r\n            {portionNumber < portionCount ?\r\n                <button onClick={() => setPortionNumber(portionNumber + 1)}>Next</button> :\r\n                null\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, getUsers,\r\n    setCurrentPage,\r\n    unfollow\r\n} from \"../../redux/usersReducer\";\r\nimport User from \"./User/User\";\r\nimport s from './Users.module.css';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nconst Users = (props) => {\r\n    return (\r\n        <div>\r\n            <Paginator totalCount={props.totalCount} pageSize={props.pageSize} onPageChanged={props.onPageChanged} currentPage={props.currentPage} />\r\n            {props.users.map(u => <User key={u.id} photos={u.photos} name={u.name} status={u.status}\r\n                                        followed={u.followed} followingInProgress={props.followingInProgress}\r\n                                        id={u.id} follow={props.follow} unfollow={props.unfollow}/>)}\r\n        </div>\r\n    );\r\n}\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (page) => {\r\n        this.props.setCurrentPage(page);\r\n        this.props.getUsers(page, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        // console.log('render USERS');\r\n        return (\r\n            <div>\r\n                {\r\n                    this.props.isFetching ?\r\n                        <Preloader/> : null}\r\n                <Users totalCount={this.props.totalCount} pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage} onPageChanged={this.onPageChanged} users={this.props.users}\r\n                       follow={this.props.follow} unfollow={this.props.unfollow}\r\n                       followingInProgress={this.props.followingInProgress}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // console.log('mstp USERS');\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalCount: state.usersPage.totalCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    getUsers,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersAPIComponent);","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth = true) => ({\r\n    type: SET_USER_DATA,\r\n    data: {\r\n        userId,\r\n        email,\r\n        login,\r\n        isAuth\r\n    }\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if (response.resultCode === 0) {\r\n        const {id, login, email} = response.data;\r\n        dispatch(setAuthUserData(id, email, login));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe)\r\n    if (response.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        const errorMessage = response.messages.length > 0 ? response.messages[0] : 'Something went wrong!';\r\n        dispatch(stopSubmit('login', {_error: errorMessage}));\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.resultCode === 0) {\r\n        // dispatch(getAuthUserData());\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth ?\r\n                <div>\r\n                    {props.login} / <button onClick={props.logout}>Logout</button>\r\n                </div> :\r\n                <NavLink to={'/login'}>Login</NavLink>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nclass HeaderC extends React.Component {\r\n    componentDidMount() {\r\n        // this.props.getAuthUserData();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderC);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {login, logout} from \"../../redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from '../common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Input} name={'email'} placeholder={'Login'} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} type={'password'} name={'password'} placeholder={'Password'}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field name={'rememberMe'} component={'input'} type={'checkbox'}/> Remember me\r\n            </div>\r\n            {props.error ?\r\n                <div className={s.summaryError}>\r\n                    {props.error}\r\n                </div> :\r\n                null\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginFormRedux = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        const {email, password, rememberMe} = formData;\r\n        props.login(email, password, rememberMe);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={`profile`}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginFormRedux onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    userId: state.auth.userId\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    login,\r\n    logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst INITIALIZING_SUCCESS = 'SET-INITIALIZED';\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZING_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializingSuccess = () => ({\r\n    type: INITIALIZING_SUCCESS\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    const promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n                dispatch(initializingSuccess());\r\n            }\r\n        )\r\n};\r\n\r\nexport default appReducer;","import React, {Component} from \"react\";\nimport './App.css';\nimport {Route} from \"react-router-dom\";\n// import DialogsContainer from \"./components/Dialogs/Dialogs\";\n// import Profile from \"./components/Profile/Profile\";\n\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Users from \"./components/Users/Users\";\nimport Header from \"./components/Header/Header\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\n\nconst Profile = React.lazy(() => import('./components/Profile/Profile'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div>\n                <Header/>\n                <Navbar/>\n                <Route path={'/login'} render={() => <Login/>}/>\n                <Route path={'/profile/:userId?'} render={() => <React.Suspense fallback={<Preloader/>}><Profile/></React.Suspense>}/>\n                {/*<Route path={'/dialogs'} render={() => <DialogsContainer/>}/>*/}\n                <Route path={'/users'} render={() => <Users/>}/>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nconst mapDispatchToProps = {\n    initializeApp\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE = 'UPDATE-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [],\r\n    messages: [],\r\n    newMessage: ''\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let new_message = {\r\n                id: state.messages.length,\r\n                message: state.newMessage\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, new_message],\r\n                newMessage: ''\r\n            };\r\n        }\r\n        case UPDATE_NEW_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                newMessage: action.newMessage\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = () => ({\r\n    type: SEND_MESSAGE\r\n});\r\n\r\nexport const updateNewMessageBody = (newMessage) => ({\r\n    type: UPDATE_NEW_MESSAGE,\r\n    newMessage\r\n});\r\n\r\nexport default dialogsReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddlerware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddlerware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__15RBH\",\"error\":\"FormsControls_error__IJC1p\",\"summaryError\":\"FormsControls_summaryError__3KGcd\"};","import React from \"react\";\r\nimport preloader from '../../../assets/images/preloader.gif';\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Preloader;","export default \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2mE0n\",\"pageNumber\":\"Paginator_pageNumber__2iZXT\",\"selectedPage\":\"Paginator_selectedPage__16YJ9\"};","export const required = value => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required!\";\r\n};\r\n\r\nexport const maxLength = max => value => {\r\n    if (value.length > max) {\r\n        return `Max length is ${max}!`;\r\n    }\r\n    return undefined;\r\n};","import React from \"react\";\r\nimport s from './FormsControls.module.css';\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const isError = meta.error && meta.touched;\r\n    return (\r\n        <div className={s.formControl + ' ' + (isError ? s.error: '')}>\r\n            <textarea {...input} {...props} />\r\n            <div>\r\n                {isError ?\r\n                    <span>{meta.error}</span> :\r\n                    null}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const isError = meta.error && meta.touched;\r\n    return (\r\n        <div className={s.formControl + ' ' + (isError ? s.error: '')}>\r\n            <input {...input} {...props} />\r\n            <div>\r\n                {isError ?\r\n                    <span>{meta.error}</span> :\r\n                    null}\r\n            </div>\r\n        </div>\r\n    );\r\n};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst SAVE_IMAGE = 'SAVE-IMAGE';\r\n\r\nlet initialState = {\r\n    posts: [],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let new_post = {\r\n                id: state.posts.length,\r\n                message: action.newPostText,\r\n                likes: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, new_post]\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_IMAGE: {\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.photos\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({\r\n    type: ADD_POST,\r\n    newPostText\r\n});\r\n\r\nexport const setUserProfile = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n});\r\n\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n});\r\n\r\nexport const saveImagesSuccess = (photos) => ({\r\n    type: SAVE_IMAGE,\r\n    photos\r\n});\r\n\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n    usersAPI.getProfile(userId)\r\n        .then(response => {\r\n            dispatch(setUserProfile(response));\r\n        });\r\n};\r\n\r\nexport const getStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(response => {\r\n            dispatch(setStatus(response));\r\n        })\r\n};\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n        });\r\n};\r\n\r\nexport const saveImage = (image) => async (dispatch) => {\r\n    const response = await profileAPI.saveImage(image);\r\n    if (response.resultCode === 0) {\r\n        dispatch(saveImagesSuccess(response.data.photos));\r\n    }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}